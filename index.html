<!DOCTYPE html>
<html lang="vi" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UniAI - API Documentation</title>
  <link rel="icon" href="https://uni.ai.vn/favicon/favicon.ico" />
  
  <!-- Cài đặt Tailwind CSS qua CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            brand: {
              50: '#eff6ff',
              100: '#dbeafe',
              400: '#60a5fa',
              500: '#3b82f6',
              600: '#2563eb',
              700: '#1d4ed8',
              800: '#1e40af',
              900: '#1e3a8a',
            }
          }
        }
      }
    }
  </script>
  
  <!-- Cài đặt React & ReactDOM qua CDN -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  
  <!-- Cài đặt Babel để biên dịch JSX trực tiếp trên trình duyệt -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    /* Tuỳ chỉnh thanh cuộn cho đẹp mắt */
    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
    .dark ::-webkit-scrollbar-thumb { background: #333; }
    ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    .dark ::-webkit-scrollbar-thumb:hover { background: #555; }
    body { margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; }
  </style>
</head>
<body class="antialiased selection:bg-brand-500/30">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // --- ICON COMPONENT (Thay thế cho lucide-react để không cần cài package) ---
    const Icon = ({ name, size = 24, className = "" }) => {
      const icons = {
        Globe: <><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/></>,
        Copy: <><rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/></>,
        Check: <path d="M20 6 9 17l-5-5"/>,
        Terminal: <><polyline points="4 17 10 11 4 5"/><line x1="12" x2="20" y1="19" y2="19"/></>,
        Code2: <><path d="m18 16 4-4-4-4"/><path d="m6 8-4 4 4 4"/><path d="m14.5 4-5 16"/></>,
        Hash: <><line x1="4" x2="20" y1="9" y2="9"/><line x1="4" x2="20" y1="15" y2="15"/><line x1="10" x2="8" y1="3" y2="21"/><line x1="16" x2="14" y1="3" y2="21"/></>,
        AlertCircle: <><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></>,
        Menu: <><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></>,
        X: <><path d="M18 6 6 18"/><path d="m6 6 12 12"/></>,
        Sun: <><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></>,
        Moon: <><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></>,
        ExternalLink: <><path d="M15 3h6v6"/><path d="M10 14 21 3"/><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/></>
      };
      return (
        <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
          {icons[name]}
        </svg>
      );
    };

    // --- DATA DEFINITION ---
    const ENDPOINTS = [
      { id: 'get_conversations', method: 'GET', path: '/v1/api/conversations' },
      { id: 'post_chat', method: 'POST', path: '/v1/api/conversations/chat' },
      { id: 'get_messages', method: 'GET', path: '/v1/api/conversations/{session_id}/messages' },
    ];

    const DICTIONARY = {
      en: {
        language: 'English', copy: 'Copy', copied: 'Copied!', auth: 'Authentication',
        authDesc: 'Requires a Bearer Token in the Authorization header.',
        pathParams: 'Path Parameters', queryParams: 'Query Parameters', bodyParams: 'Body Parameters', responses: 'Responses',
        exampleRequest: 'Example Request', exampleResponse: 'Example Response',
        apis: {
          get_conversations: {
            title: 'Get all conversations', description: 'Retrieves a list of all conversation sessions associated with the current user.',
            params: { limit: 'Maximum number of conversations to return. Default is 20.', offset: 'Number of conversations to skip for pagination.' },
            status: { 200: 'Successfully retrieved conversations.', 401: 'Unauthorized.' }
          },
          post_chat: {
            title: 'Add new message to conversation', description: 'Sends a new message to a conversation. If session_id is not provided, a new conversation session will be created.',
            params: { session_id: '(Optional) The ID of the existing conversation. Leave empty to start a new one.', message: 'The content of the message being sent by the user.' },
            status: { 200: 'Message processed and assistant replied successfully.', 400: 'Bad Request - Missing required fields.', 401: 'Unauthorized.' }
          },
          get_messages: {
            title: 'Get conversation messages', description: 'Retrieves a paginated list of messages for a specific conversation session.',
            params: { session_id: 'The unique identifier of the conversation session.', limit: 'Maximum number of messages to return. Default is 50.', cursor: 'Pagination cursor for fetching the next set of messages.' },
            status: { 200: 'Successfully retrieved messages.', 401: 'Unauthorized.', 404: 'Not Found - Session does not exist.' }
          }
        }
      },
      vi: {
        language: 'Tiếng Việt', copy: 'Sao chép', copied: 'Đã chép!', auth: 'Xác thực',
        authDesc: 'Yêu cầu Bearer Token trong header Authorization.',
        pathParams: 'Tham số Đường dẫn (Path)', queryParams: 'Tham số Truy vấn (Query)', bodyParams: 'Tham số Nội dung (Body)', responses: 'Phản hồi (Responses)',
        exampleRequest: 'Ví dụ Yêu cầu', exampleResponse: 'Ví dụ Phản hồi',
        apis: {
          get_conversations: {
            title: 'Lấy tất cả cuộc trò chuyện', description: 'Lấy danh sách tất cả các phiên trò chuyện (conversations) của người dùng hiện tại.',
            params: { limit: 'Số lượng cuộc trò chuyện tối đa trả về. Mặc định là 20.', offset: 'Số lượng cuộc trò chuyện bỏ qua (dùng để phân trang).' },
            status: { 200: 'Lấy danh sách thành công.', 401: 'Không có quyền truy cập.' }
          },
          post_chat: {
            title: 'Thêm tin nhắn mới vào cuộc trò chuyện', description: 'Gửi một tin nhắn mới. Nếu không cung cấp session_id, một phiên trò chuyện mới sẽ được tạo tự động.',
            params: { session_id: '(Tùy chọn) ID của cuộc trò chuyện hiện tại. Bỏ trống để tạo phiên mới.', message: 'Nội dung tin nhắn người dùng gửi lên.' },
            status: { 200: 'Xử lý tin nhắn và trợ lý phản hồi thành công.', 400: 'Yêu cầu lỗi - Thiếu trường dữ liệu bắt buộc.', 401: 'Không có quyền truy cập.' }
          },
          get_messages: {
            title: 'Lấy danh sách tin nhắn', description: 'Lấy danh sách phân trang các tin nhắn thuộc về một phiên trò chuyện cụ thể.',
            params: { session_id: 'Mã định danh duy nhất của phiên trò chuyện.', limit: 'Số lượng tin nhắn tối đa trả về. Mặc định là 50.', cursor: 'Con trỏ phân trang để lấy tập hợp tin nhắn tiếp theo.' },
            status: { 200: 'Lấy danh sách tin nhắn thành công.', 401: 'Không có quyền truy cập.', 404: 'Không tìm thấy phiên trò chuyện.' }
          }
        }
      }
    };

    const SNIPPETS = {
      get_conversations: {
        curl: `curl -X GET \\\n  "https://api.uni.ai.vn/v1/api/conversations?limit=20" \\\n  -H "Authorization: Bearer YOUR_API_TOKEN"`,
        javascript: `const response = await fetch("https://api.uni.ai.vn/v1/api/conversations?limit=20", {\n  method: "GET",\n  headers: { "Authorization": "Bearer YOUR_API_TOKEN" }\n});\nconst data = await response.json();\nconsole.log(data);`,
        python: `import requests\n\nurl = "https://api.uni.ai.vn/v1/api/conversations"\nheaders = {"Authorization": "Bearer YOUR_API_TOKEN"}\nparams = {"limit": 20}\n\nresponse = requests.get(url, headers=headers, params=params)\nprint(response.json())`
      },
      post_chat: {
        curl: `curl -X POST \\\n  "https://api.uni.ai.vn/v1/api/conversations/chat" \\\n  -H "Authorization: Bearer YOUR_API_TOKEN" \\\n  -H "Content-Type: application/json" \\\n  -d '{\n    "session_id": "ses_01HFWX...",\n    "message": "Phân tích giúp tôi mã cổ phiếu VCB"\n  }'`,
        javascript: `const response = await fetch("https://api.uni.ai.vn/v1/api/conversations/chat", {\n  method: "POST",\n  headers: {\n    "Authorization": "Bearer YOUR_API_TOKEN",\n    "Content-Type": "application/json"\n  },\n  body: JSON.stringify({\n    session_id: "ses_01HFWX...",\n    message: "Phân tích giúp tôi mã cổ phiếu VCB"\n  })\n});\nconst data = await response.json();\nconsole.log(data);`,
        python: `import requests\n\nurl = "https://api.uni.ai.vn/v1/api/conversations/chat"\nheaders = {\n    "Authorization": "Bearer YOUR_API_TOKEN",\n    "Content-Type": "application/json"\n}\npayload = {\n    "session_id": "ses_01HFWX...",\n    "message": "Phân tích giúp tôi mã cổ phiếu VCB"\n}\n\nresponse = requests.post(url, headers=headers, json=payload)\nprint(response.json())`
      },
      get_messages: {
        curl: `curl -X GET \\\n  "https://api.uni.ai.vn/v1/api/conversations/{session_id}/messages?limit=50" \\\n  -H "Authorization: Bearer YOUR_API_TOKEN"`,
        javascript: `const response = await fetch("https://api.uni.ai.vn/v1/api/conversations/{session_id}/messages?limit=50", {\n  method: "GET",\n  headers: { "Authorization": "Bearer YOUR_API_TOKEN" }\n});\nconst data = await response.json();\nconsole.log(data);`,
        python: `import requests\n\nurl = "https://api.uni.ai.vn/v1/api/conversations/{session_id}/messages"\nheaders = {"Authorization": "Bearer YOUR_API_TOKEN"}\nparams = {"limit": 50}\n\nresponse = requests.get(url, headers=headers, params=params)\nprint(response.json())`
      }
    };

    const RESPONSES = {
      get_conversations: { "data": [ { "id": "ses_01HFWX...", "title": "Phân tích xu hướng VN-Index", "created_at": "2023-11-20T09:00:00Z", "updated_at": "2023-11-20T10:05:00Z" }, { "id": "ses_02JGYZ...", "title": "Đánh giá báo cáo tài chính HPG", "created_at": "2023-11-19T14:30:00Z", "updated_at": "2023-11-19T15:00:00Z" } ], "pagination": { "total": 15, "limit": 20, "offset": 0 } },
      post_chat: { "session_id": "ses_01HFWX...", "message": { "id": "msg_01HFY...", "role": "assistant", "content": "Cổ phiếu VCB (Vietcombank) hiện tại đang giao dịch ở mức P/E khá hấp dẫn so với trung bình ngành. Trong ngắn hạn, ngưỡng hỗ trợ mạnh nằm ở vùng giá 85.000đ. Tuy nhiên, nhà đầu tư cần lưu ý rủi ro từ nợ xấu tiềm ẩn trong quý tới.", "created_at": "2023-11-20T10:06:00Z" } },
      get_messages: { "data": [ { "id": "msg_01HFW...", "role": "user", "content": "Nhận định thị trường chứng khoán Việt Nam tuần tới như thế nào?", "created_at": "2023-11-20T10:00:00Z" }, { "id": "msg_01HFX...", "role": "assistant", "content": "Theo các chỉ báo vĩ mô và dòng tiền hiện tại, VN-Index trong tuần tới có khả năng sẽ tiếp tục giằng co quanh mốc 1250 điểm. Lực cầu đang tập trung chủ yếu ở nhóm ngành chứng khoán và bất động sản khu công nghiệp. Lời khuyên là duy trì tỷ trọng tiền mặt hợp lý và hạn chế fomo.", "created_at": "2023-11-20T10:00:05Z" } ], "pagination": { "has_more": false, "next_cursor": null } }
    };

    // --- COMPONENTS ---
    const CodeBlock = ({ code, language, t }) => {
      const [copied, setCopied] = useState(false);

      const handleCopy = () => {
        navigator.clipboard.writeText(code);
        setCopied(true);
        setTimeout(() => setCopied(false), 2000);
      };

      return (
        <div className="relative group rounded-xl overflow-hidden bg-white dark:bg-[#0d1117] border border-gray-200 dark:border-gray-800 shadow-sm dark:shadow-2xl">
          <div className="flex items-center justify-between px-4 py-2 bg-gray-50 dark:bg-[#161b22] border-b border-gray-200 dark:border-gray-800">
            <span className="text-xs font-mono text-gray-500 dark:text-gray-400 uppercase tracking-wider">{language}</span>
            <button
              onClick={handleCopy}
              className="text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors flex items-center gap-1.5 text-xs bg-gray-200/50 hover:bg-gray-200 dark:bg-gray-800/50 dark:hover:bg-gray-700 px-2 py-1 rounded-md"
            >
              {copied ? <Icon name="Check" size={14} className="text-brand-600 dark:text-brand-400" /> : <Icon name="Copy" size={14} />}
              {copied ? t.copied : t.copy}
            </button>
          </div>
          <pre className="p-4 text-sm font-mono text-gray-800 dark:text-gray-300 overflow-x-auto">
            <code>{code}</code>
          </pre>
        </div>
      );
    };

    const MethodBadge = ({ method, className = '' }) => {
      const isGet = method === 'GET';
      // Mặc định GET = Blue, POST = Green theo chuẩn Swagger/REST API
      return (
        <span className={`font-mono text-xs font-bold tracking-widest px-2 py-0.5 rounded border ${
          isGet ? 'bg-blue-50 text-blue-600 border-blue-200 dark:bg-blue-500/10 dark:text-blue-400 dark:border-blue-500/20' : 'bg-green-50 text-green-600 border-green-200 dark:bg-green-500/10 dark:text-green-400 dark:border-green-500/20'
        } ${className}`}>
          {method}
        </span>
      );
    };

    function App() {
      const [lang, setLang] = useState('vi');
      const [activeApi, setActiveApi] = useState('get_conversations');
      const [activeTab, setActiveTab] = useState('curl');
      const [sidebarOpen, setSidebarOpen] = useState(false);
      const [isDark, setIsDark] = useState(true);

      useEffect(() => {
        if (isDark) {
          document.documentElement.classList.add('dark');
        } else {
          document.documentElement.classList.remove('dark');
        }
      }, [isDark]);

      const t = DICTIONARY[lang];
      const apiData = ENDPOINTS.find(e => e.id === activeApi);
      const apiContent = t.apis[activeApi];

      const toggleLanguage = () => setLang(lang === 'en' ? 'vi' : 'en');

      return (
        <div className="flex h-screen overflow-hidden bg-white dark:bg-[#0a0a0a] transition-colors duration-200">
          
          {sidebarOpen && (
            <div className="fixed inset-0 bg-black/60 z-40 lg:hidden" onClick={() => setSidebarOpen(false)} />
          )}

          <aside className={`fixed lg:static top-0 left-0 h-full z-50 w-72 bg-gray-50 dark:bg-[#111] border-r border-gray-200 dark:border-gray-800 transition-transform duration-300 ease-in-out ${
            sidebarOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'
          } flex flex-col`}>
            {/* Header của Sidebar - Cố định nền trắng */}
            <div className="h-16 flex items-center justify-between px-6 border-b border-gray-200 shrink-0 bg-white">
              <a href="https://uni.ai.vn/" target="_blank" rel="noopener noreferrer" className="flex items-center hover:opacity-80 transition-opacity">
                <img 
                  src="https://uni.ai.vn/_next/image?url=%2Funiai-logo-100.png&w=64&q=75" 
                  alt="UniAI Logo" 
                  className="h-8 w-auto object-contain block"
                />
              </a>
              <button className="lg:hidden text-gray-500 hover:text-gray-900" onClick={() => setSidebarOpen(false)}>
                <Icon name="X" size={20} />
              </button>
            </div>
            
            <div className="flex-1 overflow-y-auto py-6 px-4 space-y-1">
              <div className="text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 px-2">
                Conversations API
              </div>
              {ENDPOINTS.map((ep) => (
                <button
                  key={ep.id}
                  onClick={() => { setActiveApi(ep.id); setSidebarOpen(false); setActiveTab('curl'); }}
                  className={`w-full text-left flex flex-col gap-2 px-3 py-3 rounded-lg transition-all ${
                    activeApi === ep.id 
                      ? 'bg-white dark:bg-brand-900/30 border border-gray-200 dark:border-brand-800 shadow-sm dark:shadow-none' 
                      : 'hover:bg-gray-200 dark:hover:bg-gray-900/50 border border-transparent'
                  }`}
                >
                  <div className="flex items-center gap-2">
                    <MethodBadge method={ep.method} />
                    <span className={`text-sm font-medium truncate ${activeApi === ep.id ? 'text-brand-700 dark:text-brand-400' : 'text-gray-600 dark:text-gray-400'}`}>
                      {t.apis[ep.id].title}
                    </span>
                  </div>
                  <span className="text-xs font-mono text-gray-500 truncate pl-1">
                    {ep.path}
                  </span>
                </button>
              ))}
            </div>
          </aside>

          <div className="flex-1 flex flex-col overflow-hidden h-full">
            {/* Thanh Top Navbar - Cố định nền trắng */}
            <header className="h-16 flex items-center justify-between px-6 border-b border-gray-200 bg-white shrink-0">
              <button className="lg:hidden text-gray-500 hover:text-gray-900" onClick={() => setSidebarOpen(true)}>
                <Icon name="Menu" size={24} />
              </button>
              <div className="flex-1" />
              <div className="flex items-center gap-3">
                <a
                  href="https://uni.ai.vn/"
                  target="_blank"
                  rel="noopener noreferrer"
                  className="hidden sm:flex items-center gap-2 px-4 py-1.5 rounded-full bg-brand-50 border border-brand-200 hover:bg-brand-100 transition-all text-sm font-medium text-brand-700 shadow-sm"
                >
                  <Icon name="ExternalLink" size={16} />
                  {lang === 'vi' ? 'Trang chủ UniAI' : 'UniAI Home'}
                </a>
                <button
                  onClick={() => setIsDark(!isDark)}
                  className="flex items-center justify-center w-9 h-9 rounded-full bg-gray-50 border border-gray-200 hover:bg-gray-100 transition-all text-gray-600 hover:text-brand-600 shadow-sm"
                  title="Toggle Theme"
                >
                  {isDark ? <Icon name="Sun" size={18} /> : <Icon name="Moon" size={18} />}
                </button>
                <button
                  onClick={toggleLanguage}
                  className="flex items-center gap-2 px-4 py-1.5 rounded-full bg-gray-50 border border-gray-200 hover:bg-gray-100 transition-all text-sm font-medium text-gray-700 shadow-sm"
                >
                  <Icon name="Globe" size={16} className="text-brand-600" />
                  {t.language}
                </button>
              </div>
            </header>

            <main className="flex-1 overflow-y-auto">
              <div className="max-w-[1400px] mx-auto flex flex-col xl:flex-row min-h-full">
                
                {/* Left Doc Column adapts to Light/Dark */}
                <div className="xl:w-[55%] p-6 lg:p-10 space-y-12">
                  <div>
                    <h1 className="text-3xl font-bold text-gray-900 dark:text-white tracking-tight mb-4">{apiContent.title}</h1>
                    <div className="flex items-center gap-3 text-sm font-mono bg-gray-50 dark:bg-[#111] p-3 rounded-xl border border-gray-200 dark:border-gray-800 inline-flex max-w-full overflow-x-auto">
                      <MethodBadge method={apiData.method} />
                      <span className="text-gray-500 dark:text-gray-400">https://api.uni.ai.vn</span>
                      <span className="text-gray-800 dark:text-gray-200">
                        {apiData.path.split(/(\{.*?\})/).map((part, i) => 
                          part.startsWith('{') ? <span key={i} className="text-brand-600 dark:text-brand-400">{part}</span> : part
                        )}
                      </span>
                    </div>
                    <p className="mt-6 text-gray-600 dark:text-gray-400 leading-relaxed text-base">{apiContent.description}</p>
                  </div>

                  <hr className="border-gray-200 dark:border-gray-800/60" />

                  <div>
                    <h2 className="text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2">
                      <Icon name="Hash" className="w-5 h-5 text-brand-400 dark:text-brand-500" />
                      {t.auth}
                    </h2>
                    <div className="bg-amber-50 dark:bg-amber-500/10 border border-amber-200 dark:border-amber-500/20 rounded-xl p-4 flex gap-3">
                      <Icon name="AlertCircle" className="w-5 h-5 text-amber-500 dark:text-amber-400 shrink-0" />
                      <p className="text-sm text-amber-800 dark:text-amber-200/80">{t.authDesc}</p>
                    </div>
                  </div>

                  {activeApi === 'get_messages' && (
                    <div>
                      <h2 className="text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2"><Icon name="Hash" className="w-5 h-5 text-brand-400 dark:text-brand-500" />{t.pathParams}</h2>
                      <div className="border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden bg-white dark:bg-[#111] shadow-sm dark:shadow-none">
                        <div className="p-4 border-b border-gray-100 dark:border-gray-800 last:border-0">
                          <div className="flex items-baseline gap-3 mb-1">
                            <span className="font-mono text-brand-600 dark:text-brand-400 text-sm font-medium">session_id</span>
                            <span className="text-[10px] uppercase text-rose-600 dark:text-rose-400 font-bold bg-rose-100 dark:bg-rose-400/10 px-2 py-0.5 rounded">required</span>
                            <span className="text-xs text-gray-500 font-mono">string</span>
                          </div>
                          <p className="text-sm text-gray-600 dark:text-gray-400">{apiContent.params.session_id}</p>
                        </div>
                      </div>
                    </div>
                  )}

                  {activeApi === 'post_chat' && (
                    <div>
                      <h2 className="text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2"><Icon name="Hash" className="w-5 h-5 text-brand-400 dark:text-brand-500" />{t.bodyParams}</h2>
                      <div className="border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden bg-white dark:bg-[#111] shadow-sm dark:shadow-none">
                        <div className="p-4 border-b border-gray-100 dark:border-gray-800">
                          <div className="flex items-baseline gap-3 mb-1">
                            <span className="font-mono text-brand-600 dark:text-brand-400 text-sm font-medium">session_id</span>
                            <span className="text-[10px] uppercase text-gray-600 dark:text-gray-400 font-bold bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded">optional</span>
                            <span className="text-xs text-gray-500 font-mono">string</span>
                          </div>
                          <p className="text-sm text-gray-600 dark:text-gray-400">{apiContent.params.session_id}</p>
                        </div>
                        <div className="p-4 border-b border-gray-100 dark:border-gray-800 last:border-0">
                          <div className="flex items-baseline gap-3 mb-1">
                            <span className="font-mono text-brand-600 dark:text-brand-400 text-sm font-medium">message</span>
                            <span className="text-[10px] uppercase text-rose-600 dark:text-rose-400 font-bold bg-rose-100 dark:bg-rose-400/10 px-2 py-0.5 rounded">required</span>
                            <span className="text-xs text-gray-500 font-mono">string</span>
                          </div>
                          <p className="text-sm text-gray-600 dark:text-gray-400">{apiContent.params.message}</p>
                        </div>
                      </div>
                    </div>
                  )}

                  {(activeApi === 'get_conversations' || activeApi === 'get_messages') && (
                    <div>
                      <h2 className="text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2"><Icon name="Hash" className="w-5 h-5 text-brand-400 dark:text-brand-500" />{t.queryParams}</h2>
                      <div className="border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden bg-white dark:bg-[#111] shadow-sm dark:shadow-none">
                        <div className="p-4 border-b border-gray-100 dark:border-gray-800">
                          <div className="flex items-baseline gap-3 mb-1">
                            <span className="font-mono text-emerald-600 dark:text-emerald-400 text-sm font-medium">limit</span>
                            <span className="text-[10px] uppercase text-gray-600 dark:text-gray-400 font-bold bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded">optional</span>
                            <span className="text-xs text-gray-500 font-mono">integer</span>
                          </div>
                          <p className="text-sm text-gray-600 dark:text-gray-400">{apiContent.params.limit}</p>
                        </div>
                        <div className="p-4 border-b border-gray-100 dark:border-gray-800 last:border-0">
                          <div className="flex items-baseline gap-3 mb-1">
                            <span className="font-mono text-emerald-600 dark:text-emerald-400 text-sm font-medium">
                              {activeApi === 'get_conversations' ? 'offset' : 'cursor'}
                            </span>
                            <span className="text-[10px] uppercase text-gray-600 dark:text-gray-400 font-bold bg-gray-100 dark:bg-gray-800 px-2 py-0.5 rounded">optional</span>
                            <span className="text-xs text-gray-500 font-mono">
                              {activeApi === 'get_conversations' ? 'integer' : 'string'}
                            </span>
                          </div>
                          <p className="text-sm text-gray-600 dark:text-gray-400">
                            {activeApi === 'get_conversations' ? apiContent.params.offset : apiContent.params.cursor}
                          </p>
                        </div>
                      </div>
                    </div>
                  )}

                  <div>
                    <h2 className="text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2"><Icon name="Hash" className="w-5 h-5 text-brand-400 dark:text-brand-500" />{t.responses}</h2>
                    <div className="space-y-3">
                      {Object.entries(apiContent.status).map(([code, desc]) => {
                        let colorSet = 'text-emerald-600 bg-emerald-50 border-emerald-200 dark:text-emerald-400 dark:bg-emerald-400/10 dark:border-emerald-500/20';
                        if (code.startsWith('4')) colorSet = 'text-amber-600 bg-amber-50 border-amber-200 dark:text-amber-400 dark:bg-amber-400/10 dark:border-amber-500/20';
                        if (code === '404' || code === '400') colorSet = 'text-rose-600 bg-rose-50 border-rose-200 dark:text-rose-400 dark:bg-rose-400/10 dark:border-rose-500/20';
                        
                        return (
                          <div key={code} className="flex items-start gap-4 p-4 border border-gray-200 dark:border-gray-800 rounded-xl bg-white dark:bg-[#111] shadow-sm dark:shadow-none">
                            <span className={`font-mono text-sm font-bold px-2.5 py-1 rounded-md border ${colorSet}`}>{code}</span>
                            <p className="text-sm text-gray-600 dark:text-gray-400 mt-1">{desc}</p>
                          </div>
                        );
                      })}
                    </div>
                  </div>
                </div>

                {/* Right Code Column: Synced with Light/Dark mode */}
                <div className="xl:w-[45%] bg-slate-50 dark:bg-[#0a0a0a] border-l border-gray-200 dark:border-gray-800 p-6 lg:p-10">
                  <div className="sticky top-6 space-y-6">
                    <div>
                      <div className="flex items-center gap-2 mb-3">
                        <Icon name="Terminal" className="w-4 h-4 text-gray-500 dark:text-gray-400" />
                        <h3 className="text-sm font-medium text-gray-800 dark:text-gray-300">{t.exampleRequest}</h3>
                      </div>
                      
                      <div className="bg-white dark:bg-[#161b22] border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden shadow-sm dark:shadow-2xl">
                        <div className="flex gap-1 border-b border-gray-200 dark:border-gray-800 px-2 pt-2 bg-gray-100 dark:bg-[#0d1117]">
                          {['curl', 'javascript', 'python'].map((tab) => (
                            <button
                              key={tab}
                              onClick={() => setActiveTab(tab)}
                              className={`px-4 py-2 text-xs font-mono rounded-t-lg transition-colors ${
                                activeTab === tab ? 'bg-white dark:bg-[#161b22] text-brand-600 dark:text-white border-t border-l border-r border-gray-200 dark:border-gray-800 border-b-transparent relative top-[1px]' : 'text-gray-500 dark:text-gray-500 hover:text-gray-800 dark:hover:text-gray-300 border border-transparent'
                              }`}
                            >
                              {tab === 'curl' ? 'cURL' : tab === 'javascript' ? 'Node.js' : 'Python'}
                            </button>
                          ))}
                        </div>
                        <div className="p-4 bg-white dark:bg-[#161b22]">
                          <div className="relative group">
                            <button
                              onClick={() => navigator.clipboard.writeText(SNIPPETS[activeApi][activeTab])}
                              className="absolute right-0 top-0 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-100 hover:bg-gray-200 dark:bg-gray-700/50 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 p-1.5 rounded-md"
                              title={t.copy}
                            >
                              <Icon name="Copy" size={14} />
                            </button>
                            <pre className="text-sm font-mono text-gray-800 dark:text-gray-300 overflow-x-auto leading-relaxed">
                              <code>{SNIPPETS[activeApi][activeTab]}</code>
                            </pre>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div className="pt-4">
                      <div className="flex items-center gap-2 mb-3">
                        <Icon name="Code2" className="w-4 h-4 text-gray-500 dark:text-gray-400" />
                        <h3 className="text-sm font-medium text-gray-800 dark:text-gray-300">{t.exampleResponse}</h3>
                      </div>
                      <CodeBlock language="json (200 OK)" code={JSON.stringify(RESPONSES[activeApi], null, 2)} t={t} />
                    </div>
                  </div>
                </div>

              </div>
            </main>
          </div>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
